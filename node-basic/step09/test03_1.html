<!-- DOM API 사용법 -->
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>HTML</title>
</head>
<body>
<button id="btn">JSON데이터 가져오기</button><br>
<div id="footer"></div>

<script type="text/javascript">

var btn = window.document.querySelector('#btn');
btn.onclick = function(){

var xhr = new XMLHttpRequest();

xhr.onreadystatechange = function(){
    if(xhr.readyState < 4) return;
    
    if(xhr.status != 200){
        window.alert('서버실행오류');
        return;
    }
    
    var footerDiv = document.querySelector("#footer");
    var obj = JSON.parse(xhr.responseText);
    
    footerDiv.innerHTML ="<p style='background-color:gray; color:white;'>"+
                         obj.message+"</p>";   
};

xhr.open('GET','http://localhost:8888/okok?name=aaa&age=20&working=true',true);
xhr.send();

}
</script>
  
</body>
</html>




